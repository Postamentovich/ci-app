@import "index.scss";

.Button {
  border-radius: var(--radius-xl);

  border-width: var(--border-width-l);

  border-style: solid;

  border-color: transparent;

  width: fit-content;

  height: fit-content;

  outline: none;

  display: flex;

  align-items: center;

  justify-content: center;

  cursor: pointer;

  text-decoration: none;

  &_size {
    &_s {
      height: var(--button-size-s-height);
      min-width: var(--button-size-s-height);
      font-size: var(--button-size-s-font);
      line-height: var(--button-size-s-lineHeight);
      padding-right: var(--space-xs);
      padding-left: var(--space-xs);

      .Button-Text {
        margin-right: var(--space-6xs);
        margin-left: var(--space-6xs);
      }
    }

    &_m {
      height: var(--button-size-m-height);
      min-width: var(--button-size-m-height);
      font-size: var(--button-size-m-font);
      line-height: var(--button-size-m-lineHeight);
      padding-right: var(--space-2xl);
      padding-left: var(--space-2xl);
    }
  }

  &:visited {
    color: inherit;
  }

  &_view {
    &_default {
      background-color: var(--color-bg-button-default);

      &:hover {
        background-color: var(--color-bg-button-control-hover);
      }

      &:focus {
        border-color: var(--color-border-button-default-focused);
      }

      &.Button_progress {
        background-color: var(--color-bg-button-default);
        background-image: repeating-linear-gradient(
          -45deg,
          var(--color-border-button-default-focused),
          var(--color-border-button-default-focused) 4px,
          var(--color-bg-button-control-hover) 4px,
          var(--color-bg-button-control-hover) 8px
        );
        background-size: 34px 34px;
        opacity: 0.5;
        animation-name: button-progress;
        animation-duration: 0.5s;
        animation-timing-function: linear;
        animation-iteration-count: infinite;
      }
    }

    &_action {
      background-color: var(--color-bg-button-action);

      &:hover {
        background-color: var(--color-bg-button-action-hover);
      }

      &:focus {
        border-color: var(--color-border-button-action-focused);
      }

      &.Button_progress {
        background-color: #ffd426;
        background-image: repeating-linear-gradient(-45deg, #ffd426, #ffd426 4px, #f7c600 4px, #f7c600 8px);
        background-size: 34px 34px;
        opacity: 0.5;
        animation-name: button-progress;
        animation-duration: 0.5s;
        animation-timing-function: linear;
        animation-iteration-count: infinite;
      }
    }

    &_pseudo {
      background-color: var(--color-bg-button-pseudo);
      border: 1px solid var(--color-border-button-pseudo);

      &:hover {
        background-color: var(--color-bg-button-pseudo-hover);
      }

      &:focus {
        border-color: var(--color-border-button-pseudo-focused);
      }
    }
  }

  &-Text {
    white-space: nowrap;
  }

  &[aria-disabled="true"] {
    background-color: var(--color-bg-button-disabled);

    border-color: transparent;

    cursor: default;

    .Button-Text {
      color: var(--color-typo-disabled);
    }
  }
}

@keyframes button-progress {
  0% {
    background-position: -12px 0;
  }

  100% {
    background-position: 0 0;
  }
}

@media (max-width: $breakpoint-mobile) {
  .Button {
    &_size {
      &_s {
        padding: var(--space-5xs);
        .Button-Text {
          display: none;
        }
      }

      &_m {
        width: 100%;
      }
    }
  }
}
